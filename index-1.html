<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="Get">Get</button>
    <button id="post">Post</button>
  </body>
  <script>
    const Get = document.querySelector("#Get");
    const Post = document.querySelector("#post");

    Get.addEventListener("click", () => {
      const i = new XMLHttpRequest();
      i.open("GET", "https://api.restful-api.dev/objects", true);
      i.onreadystatechange = function () {
        if (i.readyState == 4) {
          console.log(this.responseText);
        }
      };
      i.send();
    });
    Post.addEventListener("click", () => {
      const i = new XMLHttpRequest();
      i.open("POST", "https://api.restful-api.dev/objects", true);
      i.setRequestHeader("Content-Type", "application/json");
      i.onreadystatechange = function () {
        if (i.readyState === 4 && (i.status === 200 || i.status === 201)) {
          console.log("Success:", i.responseText);
        } else if (i.readyState === 4) {
          console.error("Error:", i.status, i.responseText);
        }
      };

      const d = {
        name: "Apple MacBook Pro 16",
        data: {
          year: 2019,
          price: 1849.99,
          "CPU model": "Intel Core i9",
          "Hard disk size": "1 TB",
        },
      };
      i.send(JSON.stringify(d));
    });
  </script>
</html>
